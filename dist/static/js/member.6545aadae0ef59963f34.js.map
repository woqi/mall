{"version":3,"sources":["webpack:///./src/modules/js/addressService.js","webpack:///./src/pages/member/router/index.js","webpack:///./src/pages/member/vuex/index.js","webpack:///./src/pages/member/member.js","webpack:///./src/modules/js/api.js","webpack:///./src/modules/js/fetch.js"],"names":["Address","axios","get","url","addressLists","data","fetch","addressAdd","id","addressRemove","addressUpdate","addressSetDefault","Vue","use","Router","routes","path","component","__webpack_require__","e","then","bind","children","redirect","name","router","Vuex","store","Store","state","lists","mutations","init","add","instance","push","remove","index","findIndex","item","splice","update","JSON","parse","stringify_default","setDefault","forEach","isDefault","actions","getLists","_ref","commit","list","res","addAction","_ref2","parseInt","Math","random","removeAction","_ref3","updateAction","_ref4","setDefaultAction","_ref5","el","hotLists","banner","topLists","subLists","rank","search","details","deal","addCart","cartList","cartReduce","cartRemove","cartMrRemove","key","hasOwnProperty","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","a","resolve","reject","post","catch","error"],"mappings":"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","file":"static/js/member.6545aadae0ef59963f34.js","sourcesContent":["import fetch from 'js/fetch.js';\r\nimport url from 'js/api.js';\r\nimport axios from 'axios';\r\nclass Address{\r\n  static list(){\r\n    return axios.get(url.addressLists)\r\n  }\r\n  static add(data){\r\n    return fetch(url.addressAdd, data)\r\n  }\r\n  static remove(id){\r\n    return fetch(url.addressRemove, id)\r\n  }\r\n  static update(data){\r\n    return fetch(url.addressUpdate, data)\r\n  }\r\n  static setDefault(id){\r\n    return fetch(url.addressSetDefault, id)\r\n  }\r\n}\r\n\r\nexport default Address;\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/addressService.js","//使用vue-router\r\n\r\nimport Vue from 'vue';\r\nimport Router from 'vue-router';\r\n\r\nVue.use(Router)\r\n\r\nlet routes = [{\r\n  path: '/',\r\n  component: ()=> \r\n  import('../components/member.vue')\r\n},{\r\n  path: '/address',\r\n  component: ()=>\r\n  import('../components/address.vue'),\r\n  children:[{//嵌套子路由\r\n    path:'',//路径为空跳转还是all组件,没有下一级默认渲染all.vue\r\n    // component: ()=>//方法一\r\n    //   import('./components/all.vue'),\r\n    redirect: 'all'//方法二\r\n    },{\r\n    path:'all',\r\n    name: 'all',\r\n    component: ()=>\r\n      import('../components/all.vue')\r\n    },{\r\n    path:'form',\r\n    name: 'form',\r\n    component: ()=>\r\n      import('../components/form.vue')\r\n  }]\r\n}]\r\n\r\n//创建router实例\r\nlet router = new Router({\r\n  routes\r\n})\r\nexport default router//此时变成一个模块需要曝光\n\n\n// WEBPACK FOOTER //\n// ./src/pages/member/router/index.js","//使用插件  \r\nimport Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport Address from 'js/addressService.js'\r\nVue.use(Vuex)\r\n\r\n//创建store实例\r\nconst store = new Vuex.Store({\r\n  state: {//类似data，不允许修改\r\n    lists: null\r\n  },\r\n  mutations:{//定义方法对数据进行修改，对数据进行同步管理\r\n    init(state, lists){//state方便拿到数据管理\r\n      state.lists = lists\r\n    },\r\n    add(state,instance){\r\n      state.lists.push(instance)//新增数据添加到lists中\r\n    },\r\n    remove(state, id){\r\n      let lists = state.lists\r\n      let index = lists.findIndex(item =>{\r\n        return item.id == id\r\n      })\r\n      lists.splice(index, 1)\r\n    },\r\n    update(state, instance){//修改\r\n      let lists = JSON.parse(JSON.stringify(state.lists))//深复制\r\n      let index = lists.findIndex(item =>{\r\n        return item.id == instance.id\r\n      })\r\n      lists[index] = instance//替换\r\n      state.lists = lists\r\n    },\r\n    setDefault(state,id){\r\n      let lists = JSON.parse(JSON.stringify(state.lists))\r\n      lists.forEach(item =>{\r\n        if(item.id === id){\r\n          item.isDefault = true\r\n        }\r\n      })\r\n      state.lists = lists\r\n    }\r\n  },\r\n  actions:{//对数据进行异步操作\r\n    getLists({commit}){\r\n      Address.list().then(res=>{\r\n        commit('init',res.data.lists)\r\n      })\r\n    },\r\n    addAction({commit},instance){\r\n      Address.add(instance).then(res =>{\r\n        //模拟后台添加id，实际id需后台返回\r\n        instance.id = parseInt(Math.random()*10000)\r\n        commit('add', instance)\r\n      })\r\n    },\r\n    removeAction({commit},id){\r\n      Address.remove(id).then(res=>{\r\n        commit('remove',id)\r\n      })\r\n    },\r\n    updateAction({commit},instance){\r\n      Address.update(instance).then(res=>{\r\n        commit('update',instance)\r\n      })\r\n    },\r\n    setDefaultAction({commit},id){\r\n      Address.setDefault(id).then(res =>{\r\n        commit('setDefault',id)\r\n      })\r\n    }\r\n\r\n  }\r\n})\r\nexport default store;\n\n\n// WEBPACK FOOTER //\n// ./src/pages/member/vuex/index.js","import './member.css';\r\n\r\nimport Vue from 'vue';\r\n\r\nimport router from './router'\r\nimport store from './vuex'\r\n//根组件注入\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  store\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/pages/member/member.js","let url = {\r\n  hotLists: '/index/hotLists',\r\n  banner: '/index/banner',\r\n  topLists: '/category/topList',\r\n  subLists: '/category/subList',\r\n  rank: '/category/rank',\r\n  search: '/search/list',\r\n  details: '/goods/details',\r\n  deal: '/goods/deal',\r\n  addCart: '/cart/add',\r\n  cartList: '/cart/list',\r\n  cartReduce: '/cart/reduce',\r\n  cartRemove: '/cart/remove',\r\n  cartMrRemove: '/cart/mrremove',\r\n  addressLists: '/address/list',\r\n  addressAdd: '/address/add',\r\n  addressRemove: '/address/remove',\r\n  addressUpdate: '/address/update',\r\n  addressSetDefault: '/address/setDefault'\r\n\r\n}\r\n//开发环境和真实环境切换\r\nlet host = 'http://rap2api.taobao.org/app/mock/7058'\r\n\r\nfor (let key in url) {\r\n  if (url.hasOwnProperty(key)) {\r\n    url[key] = host + url[key];\r\n    \r\n  }\r\n}\r\nexport default url \r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/api.js","\r\nimport axios from 'axios';\r\n\r\nfunction fetch(url,data){\r\n  return new Promise((resolve,reject)=>{\r\n    axios.post(url,data).then(res =>{\r\n      // let status = res.data.status\r\n      // if(status == 200){\r\n      //   resolve(res)\r\n      // }\r\n      // if(status == 300){\r\n      //   location.href = 'login.html'//300跳登录页面\r\n      //   resolve(res)\r\n      // }  \r\n      // reject(res)//其他为错误状态\r\n      resolve(res)\r\n    }).catch(error =>{\r\n      reject(error)\r\n    })\r\n  })  \r\n}\r\n\r\nexport default fetch;\r\n\r\n// import axios from 'axios'\r\n// import url from 'js/api.js'\r\n\r\n\r\n// function fetch(url,data) {\r\n//   return new Promise((resolve,reject) => {\r\n//     axios.post(url,data).then(res => {\r\n//       let status = res.data.status\r\n//       // if(status === 200) {\r\n//       //   resolve(res)\r\n//       // }\r\n//       // if(status === 300) {\r\n//       //   location.href = 'login.html'\r\n//       //   resolve(res)\r\n//       // }\r\n//       // reject(res)\r\n\r\n//       resolve(res)\r\n//     }).catch(error => {\r\n//       reject(error)\r\n//     })\r\n//   })\r\n// }\r\n// export default fetch\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/fetch.js"],"sourceRoot":""}